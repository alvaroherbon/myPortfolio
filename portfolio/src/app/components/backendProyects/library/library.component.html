<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<div class="container">
    <h2>Add a book</h2>
    <form class="needs-validation" [formGroup]="booksForm" (ngSubmit)="addBook()" novalidate>
        <div class="input-group mb-3">
            <input type="text" formControlName="title" class="form-control" placeholder="Title" aria-label="Title"
                aria-describedby="basic-addon1" required>
            <div class="valid-feedback">
                Looks good!
            </div>
            <div class="invalid-feedback">
                Please provide a title.
            </div>
        </div>
        <div class="input-group mb-3">
            <input type="text" formControlName="author" class="form-control" placeholder="Author" aria-label="Author"
                aria-describedby="basic-addon2" required>
            <div class="valid-feedback">
                Looks good!
            </div>
            <div class="invalid-feedback">
                Please provide a valid author.
            </div>
        </div>
        <div class="input-group mb-3">
            <input type="number" class="form-control" aria-label="Mark" placeholder="Mark [1 - 10]"
                formControlName="mark">
        </div>

        <label for="basic-url" class="form-label">Cover url</label>
        <div class="input-group mb-3">
            <input type="text" class="form-control" id="cover_url" aria-describedby="basic-addon3"
                placeholder="https://...jpg/png" formControlName="cover_url">
        </div>

        <div class="input-group">
            <span class="input-group-text">Description</span>
            <textarea class="form-control" aria-label="With textarea" formControlName="description"></textarea>
        </div>
        <div class="d-flex justify-content-sm-between mt-3">
            <button type="button" class="btn btn-secondary" (click)="advancedSearch()">Advanced
                Search</button>
            <button type="submit" class="btn btn-primary">Add Book</button>

        </div>
    </form>

    <h2 class="mt-5">List of books</h2>
    <div class="d-flex justify-content-start w-25 mt-3 mb-3">
        <input type="text" class="form-control" placeholder="Search" aria-label="Search"
            aria-describedby="basic-addon1">
    </div>
    <div class="table-responsive">
        <table class="table table-hover table-light m-2">
            <thead class="thead-light">
                <tr>
                    <th scole="col" [width]="100">Cover</th>
                    <th scope="col">Title</th>
                    <th scope="col">Author</th>
                    <th scope="col">Mark</th>
                    <th scope="col" [width]="200">Actions</th>
                </tr>
            </thead>
            <tbody *ngFor="let book of books">
                <tr>
                    <td><img [src]="book.cover_url" [alt]="book.title" [width]="100"></td>
                    <td>{{book.title}}</td>
                    <td>{{book.author}}</td>
                    <td>{{book.mark}}</td>
                    <td>
                        <button type="button" class="btn btn-danger m-2" (click)="deleteBook(book.id)"><i
                                class="fa fa-trash"></i></button>
                        <button type="button" class="btn btn-warning m-2" (click)="editBook(book.id)"><i
                                class="fa fa-pencil"></i></button>
                        <button type="button" class="btn btn-success m-2" (click)="viewBook(book.id)"><i
                                class="fa fa-eye"></i></button>
                    </td>
                </tr>
            </tbody>
        </table>


    </div>



</div>

<script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function () {
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.querySelectorAll('.needs-validation')

        // Loop over them and prevent submission
        Array.prototype.slice.call(forms)
            .forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }

                    form.classList.add('was-validated')
                }, false)
            })
    })()
</script>